<!DOCTYPE html>
<html>
    <style>

        header {
          width:300px;
          float:left;
          background: cyan;
          height: 20px;
          text-indent: 0cm;
        }
        
        .first-box {
          width:300px;
          float:left;
          background: cyan;
          height: 200px;
          margin: 10px
        }
        
        .first-box p {
          color: #ffffff;xe
          padding-left: 80px;
          padding-top: 50px;
        }
        </style>


////////////////////////////////////////////////
//                                            // 
//////////////// VERTEX SHADER /////////////////   
//                                            // 
////////////////////////////////////////////////
<script id="vertex-shader" type="x-shader/x-vertex">
#version 300 es

in  vec4 aPosition;
in  vec4 aColor;
in  vec3 aNormal;
in vec2 vTexCoord;

out vec2 fTexCoord;
out vec4 vColor;

uniform vec3 uTheta;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uAmbientProduct, uDiffuseProduct, uSpecularProduct;
uniform vec4 uLightPosition;
uniform float uShininess;


void main()
{   ////////////////////////////////////////////////
    // ROTATION PART
    ////////////////////////////////////////////////
    vec3 angles = radians(uTheta);
    vec3 c = cos(angles);
    vec3 s = sin(angles);

    // Remeber: thse matrices are column-major
    mat4 rx = mat4(1.0, 0.0, 0.0, 0.0,
        0.0, c.x, s.x, 0.0,
        0.0, -s.x, c.x, 0.0,
        0.0, 0.0, 0.0, 1.0 );

    mat4 ry = mat4(c.y, 0.0, -s.y, 0.0,
        0.0, 1.0, 0.0, 0.0,
        s.y, 0.0, c.y, 0.0,
        0.0, 0.0, 0.0, 1.0);


    mat4 rz = mat4(c.z, s.z, 0.0, 0.0,
        -s.z, c.z, 0.0, 0.0,
        0.0,  0.0, 1.0, 0.0,
        0.0,  0.0, 0.0, 1.0);

    ////////////////////////////////////////////////
    // LIGHT PART
    ////////////////////////////////////////////////

        vec3 pos = -(uModelViewMatrix * aPosition).xyz;
        vec3 light = uLightPosition.xyz;
        vec3 L = normalize(light - pos);
    
    
        vec3 E = normalize(-pos);
        vec3 H = normalize(L + E);
    
        vec4 NN = vec4(aNormal,0);
    
        // Transform vertex normal into eye coordinates
    
        vec3 N = normalize((uModelViewMatrix*NN).xyz);
    
        // Compute terms in the illumination equation
        vec4 ambient = uAmbientProduct;
    
        float Kd = max(dot(L, N), 0.0);
        vec4  diffuse = Kd*uDiffuseProduct;
    
        float Ks = pow(max(dot(N, H), 0.0), uShininess);
        vec4  specular = Ks * uSpecularProduct;
    
        if( dot(L, N) < 0.0 ) {
           specular = vec4(0.0, 0.0, 0.0, 1.0);
        }
    
    
    gl_Position = uProjectionMatrix*uModelViewMatrix*(rz * ry * rx * aPosition);
    gl_Position.z = -gl_Position.z;

    fTexCoord = vTexCoord;
    vColor = ambient + diffuse+specular;
    vColor.a = 1.0;

}
</script>


////////////////////////////////////////////////
//                                            // 
//////////////// FRAGMENT SHADER ///////////////   
//                                            // 
////////////////////////////////////////////////
<script id="fragment-shader" type="x-shader/x-fragment">

#version 300 es

precision mediump float;

in vec4 vColor;
in vec2 fTexCoord;

out vec4 fColor;
uniform sampler2D texture_test;
uniform float texturetoggle;

void
main()
{
   // fColor = vColor;
    
    
    if(texturetoggle == 0.0){
      fColor = vColor ;
      }else{
          fColor = vColor * texture( texture_test, fTexCoord );
      }
      fColor.a = 1.0;
  
}
</script>



<script type="text/javascript" src="../Common/initShaders.js"></script>
<script type="text/javascript" src="../Common/MVnew.js"></script>
<script type="text/javascript" src="homework1.js"></script>

////////////////////////////////////////////////
//                                            // 
//////////////////// SLIDERS  //////////////////   
//                                            // 
////////////////////////////////////////////////
<body>
<canvas id="gl-canvas" width="512" height="512">
Oops ... your browser doesn't support the HTML5 canvas element
</canvas>
<img id = "texImage" src = "https://i.imgur.com/vA23abOr.jpg" crossorigin="anonymous" hidden></img>

<!-- <img id = "texImage" src = "https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTkCwUqCczekkzed0caHGGwz67CTeYjEmIhZJNbfiptTW7Yz-0K&usqp=CAU" crossorigin="anonymous" hidden></img> -->
<!-- <img id = "texImage" src = "SA2011_black.gif" hidden></img> -->

<div class="container">
    <div class="first-box">
    <div>
    zNear .01<input id="zNearSlider" type="range"
     min=".01" max="3" step="0.1" value="0.3" />
     3
    </div>
    <div>
      radius 0.05<input id="radiusSlider" type="range"
       min="0.05" max="10" step="0.1" value="4" />
       10
      </div>
      <div>
      theta -90<input id="thetaSlider" type="range"
       min="-90" max="90" step="5" value="0" />
       90
      </div>
      <div>
      phi -90<input id="phiSlider" type="range"
       min="-90" max="90" step="5" value="0" />
       90
      </div>
      <div>
        Scale 
        <input id="scaleSlider" type="range"
        min="0.01" max="2" step="0.01" value ="1" />
        
        </div>
    <div>
    zFar 0<input id="zFarSlider" type="range"
     min="3" max="10" step="3.0" value="10" />
     10
    </div>
  </div>

    <div class="container">
      <div class="first-box">
    <div>
    x -5<input id="xSlider" type="range"
     min="-20" max="20" step="0.1" value="0" />
     5
    </div>
    <div>
    y -5<input id="ySlider" type="range"
     min="-20" max="20" step="0.1" value="0" />
     5
    </div>
    <div>
    z 0<input id="zSlider" type="range"
     min="-20" max="20" step="0.1" value="4" />
     10
    </div>
    <div>
    fov 10<input id="fovSlider" type="range"
     min="10" max="120" step="5" value="45" />
     120
    </div>
    <div>
    aspect 0.5<input id="aspectSlider" type="range"
     min="0.5" max="2" step="0.1" value="2" />
     2
     <div>
      <button id = "Button6">Increase speed</button>
      <button id = "Button7">Decrease speed</button>
      </div>
    </div>
    
      <button id = "ButtonX">Rotate X</button>
      <button id = "ButtonY">Rotate Y</button>
      <button id = "ButtonZ">Rotate Z</button>
      <button id = "ButtonT">Toggle Rotation</button>
    </div>


  </div>
    <div class="container">
      <div class="first-box">
        <div>
          Click to reset all values
          <input type="button" value="RESET" onclick="resetButton()">
        </div>
    <div>
      Light X Translation 
      0<input id="xLight" type="range"
      min="0" max="1" step="0.1" value ="1.0" />1
      
      </div>
      
      <div>
      Light Y Translation 
      0<input id="yLight" type="range"
      min="0" max="1" step="0.1" value ="1.0" />1
      
      </div>
      
      <div>
      Light Z Translation 
      0<input id="zLight" type="range"
      min="0" max="1" step="0.1" value ="1.0" />1
      
    </div>
    <button id="texture_switch" >Toggle Texture</button>

    </div>
      </div>

    </div>
    </div>
    
</body>
</html>
